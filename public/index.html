<!DOCTYPE html>
<html ng-app="fdCalculator">
<head>
    <title>FD Calculator</title>
    <link rel="stylesheet" type="text/css" href="lib/normalize.css/normalize.css">

</head>
<body>


  <div class="inputs" ng-controller="InputController">

    <ul>
      <li ng-repeat="i in getNumber(numFD) track by $index"
          ng-controller="FdController"
          id=""
      >
        <h1>
          <span class="independent" ng-repeat="fd in breakUpFD(independent)">
            {{fd}}
          </span>
          <span class="dependent" ng-repeat="fd in breakUpFD(dependent)">
            {{fd}}
          </span>
        </h1>
        {{$index}}
        <input type="text" ng-model="independent"/>
        &rightarrow;
        <input type="text" ng-model="dependent"/>
      </li>
    </ul>

    <button ng-click="addFD()">Add</button>
  </div>

  <!--<script type="text/javascript" data-main="js/main" src="lib/requirejs/require.js"></script>-->

  <script type="text/javascript" src="lib/angular/angular.min.js"></script>
  <script type="text/javascript">
    var fdCalculator = angular.module('fdCalculator',[]);

    fdCalculator.controller('InputController', [
      '$scope',
      function InputController ($scope) {
        $scope.numFD = 1;
        $scope.getNumber = function (numInputs) {
            return new Array(numInputs);
        };
        $scope.addFD = function () {
            $scope.numFD++;
        };
      }
    ]);

    fdCalculator.controller('FdController', [
      '$scope',
      function InputController ($scope) {
        $scope.breakUpFD = function (fds) {
            return fds? fds.split(/\,\s*/) : [];
        };
      }
    ]);

  </script>
</body>
</html>
